import streamlit as st
import numpy as np
import cv2
from PIL import Image

# Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØµÙØ­Ø©
st.set_page_config(
    page_title="Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø£Ø±Ø¯Ù† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø§Ù„Ù…Ø®ØªÙ„Ø·Ø©",
    layout="centered",
    page_icon="ğŸš­",
)

# ØªÙ†Ø³ÙŠÙ‚ CSS
st.markdown("""
    <style>
        body {
            background-color: #f0f2f6;
        }
        .main {
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 2px 2px 15px rgba(0,0,0,0.1);
        }
        h1, h3 {
            color: #2c3e50;
            text-align: center;
        }
        .small {
            text-align: center;
            color: #888;
        }
    </style>
""", unsafe_allow_html=True)

# Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
st.markdown("<h1>Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø£Ø±Ø¯Ù† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø§Ù„Ù…Ø®ØªÙ„Ø·Ø©</h1>", unsafe_allow_html=True)
st.markdown("<h3>ÙƒÙŠÙ Ø³ØªØ¨Ø¯Ùˆ Ø¨Ø¹Ø¯ 30 Ø³Ù†Ø© Ù…Ù† Ø§Ù„ØªØ¯Ø®ÙŠÙ†ØŸ</h3>", unsafe_allow_html=True)
st.markdown("<p class='small'>Ø§Ø±ÙØ¹ ØµÙˆØ±ØªÙƒ ÙˆØ´Ø§Ù‡Ø¯ Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø³Ù„Ø¨ÙŠØ© Ù„Ù„ØªØ¯Ø®ÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¸Ù‡Ø±</p>", unsafe_allow_html=True)

# Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©
uploaded_file = st.file_uploader("Ø§Ø±ÙØ¹ ØµÙˆØ±ØªÙƒ (jpg Ø£Ùˆ png)", type=["jpg", "jpeg", "png"])

# Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ£Ø«ÙŠØ±
def apply_smoking_effect(img):
    img_bgr = cv2.cvtColor(img, cv2.COLOR_RGB2BGR)

    # Ø§ØµÙØ±